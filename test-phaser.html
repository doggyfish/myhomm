<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyHoMM Phaser 3 Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-info {
            background: rgba(0,0,0,0.8);
            border: 2px solid #ff6b6b;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        .test-controls {
            background: rgba(0,0,0,0.8);
            border: 2px solid #4CAF50;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        .test-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        .test-button:hover {
            background: #66BB6A;
        }
        
        #gameFrame {
            border: 2px solid #ff6b6b;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .console-output {
            background: #000;
            color: #00ff00;
            padding: 10px;
            margin-top: 20px;
            height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
            border: 1px solid #333;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-info">
            <h1>üéÆ MyHoMM Phaser 3 Migration Test</h1>
            <p><strong>Phase 5.1 Complete!</strong> Testing basic Phaser 3 functionality</p>
            <p>‚úÖ Project structure created<br>
               ‚úÖ Phaser 3 configuration set up<br>
               ‚úÖ MainGameScene with camera system<br>
               ‚úÖ Castle and Army entities migrated<br>
               ‚úÖ Game systems implemented</p>
        </div>
        
        <div class="test-controls">
            <h3>üéØ Test Controls</h3>
            <button class="test-button" onclick="testCameraControls()">Test Camera</button>
            <button class="test-button" onclick="testEntities()">Test Entities</button>
            <button class="test-button" onclick="testGameplay()">Test Gameplay</button>
            <button class="test-button" onclick="showConsole()">Toggle Console</button>
            <p><strong>Camera Controls:</strong> WASD or Arrow Keys to move, Mouse Wheel to zoom, Right-click + drag to pan</p>
            <p><strong>Gameplay:</strong> Click castles to select, click empty tiles to create armies</p>
        </div>
        
        <div id="gameFrame">
            <iframe src="index-phaser.html" width="100%" height="600" style="border: none;"></iframe>
        </div>
        
        <div class="console-output" id="consoleOutput" style="display: none;">
            <div>MyHoMM Phaser 3 Console Output:</div>
        </div>
    </div>
    
    <script>
        let consoleVisible = false;
        
        function testCameraControls() {
            alert('üéØ Camera Test:\n\n' +
                  '1. Use WASD or arrow keys to move camera\n' +
                  '2. Use mouse wheel to zoom in/out\n' +
                  '3. Right-click and drag to pan\n' +
                  '4. Press H to center camera\n' +
                  '5. Press F to fit camera to map\n\n' +
                  'Check the game window for camera movement!');
        }
        
        function testEntities() {
            alert('üè∞ Entity Test:\n\n' +
                  '1. Green castle = Human player\n' +
                  '2. Red castle = AI player\n' +
                  '3. Click castles to select them\n' +
                  '4. Click empty tiles to create armies\n' +
                  '5. Watch unit numbers update every second\n\n' +
                  'Entities should be visible on the grid!');
        }
        
        function testGameplay() {
            alert('‚öîÔ∏è Gameplay Test:\n\n' +
                  '1. Click on your green castle\n' +
                  '2. Click on an empty tile to create army\n' +
                  '3. Click on an army to select it\n' +
                  '4. Click another tile to move army\n' +
                  '5. Attack enemy castle with army\n\n' +
                  'Try the full gameplay loop!');
        }
        
        function showConsole() {
            const console = document.getElementById('consoleOutput');
            consoleVisible = !consoleVisible;
            console.style.display = consoleVisible ? 'block' : 'none';
            
            if (consoleVisible) {
                // Capture console logs (simplified)
                console.innerHTML += '<div>[Console output would appear here in a real implementation]</div>';
            }
        }
        
        // Log success
        console.log('üöÄ MyHoMM Phaser 3 test page loaded successfully');
        console.log('üìä All Phase 5.1 components implemented');
        console.log('‚úÖ Ready for testing and validation');
    </script>
</body>
</html>